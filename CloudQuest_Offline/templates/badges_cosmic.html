{% extends "base.html" %}

{% block title %}🏆 Achievements & Badges - AWS Cloud Orbit{% endblock %}

{% block content %}
<div class="badges-universe">
    <!-- Header with Zap -->
    <div class="badges-header">
        <div class="mascot-container">
            <img src="{{ url_for('static', filename='mascot/zap_levelup.png') }}" alt="Zap Level Up" class="zap-badges">
            <div class="speech-bubble-badges">
                <p>Look at all your amazing achievements! 🌟</p>
            </div>
        </div>
        
        <h1 class="badges-title">🏆 Your Galactic Achievements</h1>
        
        <!-- Progress Overview -->
        <div class="achievement-stats">
            <div class="stat-cosmic">
                <div class="stat-value">{{ earned_count }}</div>
                <div class="stat-label">Badges Earned</div>
            </div>
            <div class="stat-cosmic">
                <div class="stat-value">{{ total_count }}</div>
                <div class="stat-label">Total Available</div>
            </div>
            <div class="stat-cosmic">
                <div class="stat-value">{{ completion_percentage }}%</div>
                <div class="stat-label">Universe Explored</div>
            </div>
        </div>
    </div>
    
    <!-- Filter Constellation -->
    <div class="badge-filters">
        <button class="filter-star active" data-filter="all">🌌 All Badges</button>
        <button class="filter-star" data-filter="earned">⭐ Earned ({{ earned_count }})</button>
        <button class="filter-star" data-filter="locked">🔒 Locked ({{ total_count - earned_count }})</button>
        <button class="filter-star" data-filter="recent">✨ Recent</button>
    </div>

    <!-- Badge Galaxies -->
    <div class="badge-galaxies">
        
        <!-- Learning Progress Galaxy -->
        <div class="galaxy-section">
            <h2 class="galaxy-title">📚 Learning Progress Galaxy</h2>
            <div class="badges-constellation">
                <div class="badge-star {{ 'earned' if first_lesson_complete else 'locked' }}" data-category="learning">
                    <div class="badge-glow"></div>
                    <div class="badge-core">
                        <div class="badge-icon">{% if first_lesson_complete %}🎯{% else %}🔒{% endif %}</div>
                        <div class="badge-name">First Contact</div>
                        <div class="badge-description">Complete your first AWS lesson</div>
                        {% if first_lesson_complete %}
                        <div class="earned-date">Earned: {{ first_lesson_date }}</div>
                        {% else %}
                        <div class="unlock-hint">Start your journey to unlock</div>
                        {% endif %}
                    </div>
                </div>

                <div class="badge-star {{ 'earned' if knowledge_seeker else 'locked' }}" data-category="learning">
                    <div class="badge-glow"></div>
                    <div class="badge-core">
                        <div class="badge-icon">{% if knowledge_seeker %}📚{% else %}🔒{% endif %}</div>
                        <div class="badge-name">Knowledge Seeker</div>
                        <div class="badge-description">Answer 25 questions correctly</div>
                        {% if knowledge_seeker %}
                        <div class="earned-date">Earned: {{ knowledge_seeker_date }}</div>
                        {% else %}
                        <div class="progress-cosmic">
                            <div class="progress-orbit">
                                <div class="progress-planet" style="width: {{ (correct_answers / 25) * 100 }}%"></div>
                            </div>
                            <span class="progress-text">{{ correct_answers }}/25</span>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <div class="badge-star {{ 'earned' if perfectionist else 'locked' }}" data-category="learning">
                    <div class="badge-glow"></div>
                    <div class="badge-core">
                        <div class="badge-icon">{% if perfectionist %}🎯{% else %}🔒{% endif %}</div>
                        <div class="badge-name">Perfectionist</div>
                        <div class="badge-description">Achieve 90% accuracy over 20 questions</div>
                        {% if perfectionist %}
                        <div class="earned-date">Earned: {{ perfectionist_date }}</div>
                        {% else %}
                        <div class="progress-cosmic">
                            <div class="accuracy-display">{{ current_accuracy }}% accuracy</div>
                            <span class="progress-text">{{ total_questions }}/20 questions</span>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <!-- AWS Mastery Galaxy -->
        <div class="galaxy-section">
            <h2 class="galaxy-title">☁️ AWS Mastery Galaxy</h2>
            <div class="badges-constellation">
                {% for domain_badge in aws_domain_badges %}
                <div class="badge-star {{ 'earned' if domain_badge.earned else 'locked' }}" data-category="aws">
                    <div class="badge-glow"></div>
                    <div class="badge-core">
                        <div class="badge-icon">{% if domain_badge.earned %}{{ domain_badge.icon }}{% else %}🔒{% endif %}</div>
                        <div class="badge-name">{{ domain_badge.name }}</div>
                        <div class="badge-description">{{ domain_badge.description }}</div>
                        {% if domain_badge.earned %}
                        <div class="earned-date">Earned: {{ domain_badge.date }}</div>
                        {% else %}
                        <div class="unlock-hint">{{ domain_badge.hint }}</div>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Elite Achievement Galaxy -->
        <div class="galaxy-section">
            <h2 class="galaxy-title">⭐ Elite Achievement Galaxy</h2>
            <div class="badges-constellation">
                <div class="badge-star {{ 'earned rare' if streak_champion else 'locked' }}" data-category="elite">
                    <div class="badge-glow rare-glow"></div>
                    <div class="badge-core">
                        <div class="badge-icon">{% if streak_champion %}🔥{% else %}🔒{% endif %}</div>
                        <div class="badge-rarity">✨ RARE ✨</div>
                        <div class="badge-name">Streak Champion</div>
                        <div class="badge-description">Maintain a 7-day learning streak</div>
                        {% if streak_champion %}
                        <div class="earned-date">Earned: {{ streak_champion_date }}</div>
                        {% else %}
                        <div class="progress-cosmic">
                            <div class="streak-display">Current: {{ current_streak }} days</div>
                            <span class="progress-text">{{ 7 - current_streak }} more days needed</span>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <div class="badge-star {{ 'earned legendary' if aws_master else 'locked' }}" data-category="elite">
                    <div class="badge-glow legendary-glow"></div>
                    <div class="badge-core">
                        <div class="badge-icon">{% if aws_master %}👑{% else %}🔒{% endif %}</div>
                        <div class="badge-rarity">🌟 LEGENDARY 🌟</div>
                        <div class="badge-name">AWS Galactic Master</div>
                        <div class="badge-description">Earn badges in all AWS domains</div>
                        {% if aws_master %}
                        <div class="earned-date">Earned: {{ aws_master_date }}</div>
                        {% else %}
                        <div class="progress-cosmic">
                            <div class="mastery-display">{{ domain_badges_earned }}/8 domains mastered</div>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <div class="badge-star {{ 'earned' if guardian_protected else 'locked' }}" data-category="elite">
                    <div class="badge-glow"></div>
                    <div class="badge-core">
                        <div class="badge-icon">{% if guardian_protected %}🛡️{% else %}🔒{% endif %}</div>
                        <div class="badge-name">Guardian's Chosen</div>
                        <div class="badge-description">Protected by Guardian's Shield relic</div>
                        {% if guardian_protected %}
                        <div class="earned-date">Earned: {{ guardian_protected_date }}</div>
                        {% else %}
                        <div class="unlock-hint">Find Guardian's Shield in elite battles</div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Action Constellation -->
    <div class="badges-actions">
        <a href="{{ url_for('home') }}" class="btn-cosmic primary">
            <span class="btn-icon">🚀</span>
            Return to Adventure
        </a>
        <button class="btn-cosmic secondary" id="shareAchievements">
            <span class="btn-icon">📱</span>
            Share Progress
        </button>
    </div>
</div>

<style>
/* Cosmic Badge Universe Styles */
.badges-universe {
    min-height: 100vh;
    background: linear-gradient(135deg, #0a0a0f 0%, #1a1a2e 50%, #16213e 100%);
    background-image: 
        radial-gradient(white, rgba(255,255,255,.2) 2px, transparent 40px),
        radial-gradient(white, rgba(255,255,255,.15) 1px, transparent 30px),
        radial-gradient(white, rgba(255,255,255,.1) 2px, transparent 40px);
    background-size: 550px 550px, 350px 350px, 250px 250px;
    background-position: 0 0, 40px 60px, 130px 270px;
    animation: stars-twinkle 20s linear infinite;
    padding: 40px 20px;
}

@keyframes stars-twinkle {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

/* Header Section */
.badges-header {
    text-align: center;
    margin-bottom: 60px;
    position: relative;
}

.zap-badges {
    width: 100px;
    height: auto;
    animation: cosmic-float 4s ease-in-out infinite;
    filter: drop-shadow(0 0 25px rgba(247, 213, 29, 0.6));
}

@keyframes cosmic-float {
    0%, 100% { transform: translateY(0px) rotate(-2deg); }
    50% { transform: translateY(-15px) rotate(2deg); }
}

.speech-bubble-badges {
    background: linear-gradient(135deg, rgba(50, 184, 198, 0.9), rgba(33, 128, 141, 0.9));
    padding: 15px 25px;
    border-radius: 20px;
    margin-top: 15px;
    border: 2px solid #f7d51d;
    position: relative;
    backdrop-filter: blur(5px);
    display: inline-block;
}

.speech-bubble-badges::before {
    content: '';
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-bottom: 10px solid #f7d51d;
}

.badges-title {
    font-size: 36px;
    color: #f7d51d;
    margin: 30px 0;
    text-shadow: 0 0 20px rgba(247, 213, 29, 0.5);
    animation: title-glow 3s ease-in-out infinite alternate;
}

@keyframes title-glow {
    0% { text-shadow: 0 0 20px rgba(247, 213, 29, 0.5); }
    100% { text-shadow: 0 0 30px rgba(247, 213, 29, 0.8); }
}

/* Achievement Stats */
.achievement-stats {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin: 30px 0;
    flex-wrap: wrap;
}

.stat-cosmic {
    background: radial-gradient(circle, rgba(50, 184, 198, 0.3), rgba(50, 184, 198, 0.1));
    border: 2px solid rgba(50, 184, 198, 0.5);
    border-radius: 50%;
    padding: 25px;
    text-align: center;
    min-width: 120px;
    aspect-ratio: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    animation: stat-orbit 10s linear infinite;
}

@keyframes stat-orbit {
    0% { transform: rotate(0deg); box-shadow: 0 0 15px rgba(50, 184, 198, 0.3); }
    25% { box-shadow: 0 0 25px rgba(247, 213, 29, 0.3); }
    50% { transform: rotate(180deg); box-shadow: 0 0 15px rgba(230, 129, 97, 0.3); }
    75% { box-shadow: 0 0 25px rgba(255, 84, 89, 0.3); }
    100% { transform: rotate(360deg); box-shadow: 0 0 15px rgba(50, 184, 198, 0.3); }
}

.stat-cosmic .stat-value {
    font-size: 28px;
    font-weight: bold;
    color: #32b8c6;
    animation: counter-orbit 10s linear infinite reverse;
}

.stat-cosmic .stat-label {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.8);
    margin-top: 5px;
    animation: counter-orbit 10s linear infinite reverse;
}

@keyframes counter-orbit {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(-360deg); }
}

/* Filter Constellation */
.badge-filters {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 50px;
    flex-wrap: wrap;
}

.filter-star {
    background: linear-gradient(135deg, rgba(94, 82, 64, 0.3), rgba(98, 108, 113, 0.2));
    border: 2px solid rgba(98, 108, 113, 0.5);
    color: rgba(255, 255, 255, 0.8);
    padding: 12px 20px;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    position: relative;
    overflow: hidden;
}

.filter-star::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.filter-star:hover::before {
    left: 100%;
}

.filter-star:hover {
    background: linear-gradient(135deg, rgba(50, 184, 198, 0.3), rgba(33, 128, 141, 0.2));
    border-color: #32b8c6;
    color: #32b8c6;
    transform: translateY(-2px);
}

.filter-star.active {
    background: linear-gradient(135deg, #32b8c6, #218085);
    border-color: #32b8c6;
    color: white;
    box-shadow: 0 0 20px rgba(50, 184, 198, 0.4);
}

/* Galaxy Sections */
.galaxy-section {
    margin-bottom: 60px;
}

.galaxy-title {
    font-size: 28px;
    color: #e68161;
    text-align: center;
    margin-bottom: 40px;
    text-shadow: 0 0 15px rgba(230, 129, 97, 0.5);
}

.badges-constellation {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
}

/* Badge Stars */
.badge-star {
    background: linear-gradient(135deg, rgba(38, 40, 40, 0.95), rgba(26, 26, 46, 0.9));
    border: 2px solid rgba(94, 82, 64, 0.4);
    border-radius: 20px;
    padding: 30px;
    position: relative;
    transition: all 0.4s ease;
    overflow: hidden;
    backdrop-filter: blur(5px);
}

.badge-star::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, transparent, rgba(247, 213, 29, 0.3), transparent);
    border-radius: 20px;
    opacity: 0;
    transition: opacity 0.3s ease;
    z-index: -1;
}

.badge-star:hover {
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
}

.badge-star:hover::before {
    opacity: 1;
}

.badge-star.earned {
    border-color: #f7d51d;
    background: linear-gradient(135deg, rgba(247, 213, 29, 0.1), rgba(230, 129, 97, 0.05));
}

.badge-star.earned .badge-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, rgba(247, 213, 29, 0.2), transparent);
    border-radius: 50%;
    animation: badge-pulse 3s ease-in-out infinite;
}

@keyframes badge-pulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
}

.badge-star.rare {
    border-color: #e68161;
}

.badge-star.rare .rare-glow {
    background: radial-gradient(circle, rgba(230, 129, 97, 0.3), transparent);
    animation: rare-pulse 2s ease-in-out infinite;
}

@keyframes rare-pulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
    50% { transform: translate(-50%, -50%) scale(1.3); opacity: 1; }
}

.badge-star.legendary .legendary-glow {
    background: radial-gradient(circle, rgba(255, 84, 89, 0.4), rgba(247, 213, 29, 0.3), transparent);
    animation: legendary-pulse 1.5s ease-in-out infinite;
}

@keyframes legendary-pulse {
    0%, 100% { transform: translate(-50%, -50%) scale(1) rotate(0deg); opacity: 0.7; }
    50% { transform: translate(-50%, -50%) scale(1.4) rotate(180deg); opacity: 1; }
}

/* Badge Core Content */
.badge-core {
    position: relative;
    z-index: 2;
    text-align: center;
}

.badge-icon {
    font-size: 48px;
    margin-bottom: 15px;
    display: block;
    filter: drop-shadow(0 0 10px rgba(247, 213, 29, 0.5));
}

.badge-star.earned .badge-icon {
    animation: icon-shine 4s ease-in-out infinite;
}

@keyframes icon-shine {
    0%, 100% { filter: drop-shadow(0 0 10px rgba(247, 213, 29, 0.5)); }
    50% { filter: drop-shadow(0 0 20px rgba(247, 213, 29, 0.8)); }
}

.badge-rarity {
    font-size: 10px;
    font-weight: bold;
    color: #e68161;
    margin-bottom: 5px;
    letter-spacing: 1px;
}

.badge-name {
    font-size: 20px;
    font-weight: bold;
    color: #f7d51d;
    margin-bottom: 10px;
}

.badge-star.locked .badge-name {
    color: rgba(255, 255, 255, 0.6);
}

.badge-description {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 15px;
    line-height: 1.4;
}

.earned-date {
    background: rgba(50, 184, 198, 0.2);
    padding: 8px 12px;
    border-radius: 15px;
    border: 1px solid rgba(50, 184, 198, 0.4);
    font-size: 12px;
    color: #32b8c6;
}

.unlock-hint {
    background: rgba(98, 108, 113, 0.2);
    padding: 8px 12px;
    border-radius: 15px;
    border: 1px solid rgba(98, 108, 113, 0.4);
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
    font-style: italic;
}

/* Progress Elements */
.progress-cosmic {
    margin-top: 10px;
}

.progress-orbit {
    width: 100%;
    height: 6px;
    background: rgba(98, 108, 113, 0.3);
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 5px;
}

.progress-planet {
    height: 100%;
    background: linear-gradient(90deg, #32b8c6, #f7d51d);
    border-radius: 3px;
    animation: progress-glow 2s ease-out;
}

@keyframes progress-glow {
    0% { width: 0%; }
}

.progress-text, .accuracy-display, .streak-display, .mastery-display {
    font-size: 11px;
    color: rgba(255, 255, 255, 0.7);
}

/* Action Buttons */
.badges-actions {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 60px;
    flex-wrap: wrap;
}

.btn-cosmic {
    padding: 15px 30px;
    border-radius: 25px;
    font-weight: bold;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 10px;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    font-size: 16px;
    position: relative;
    overflow: hidden;
}

.btn-cosmic::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
}

.btn-cosmic:hover::before {
    left: 100%;
}

.btn-cosmic.primary {
    background: linear-gradient(135deg, #32b8c6, #218085);
    color: white;
    box-shadow: 0 0 20px rgba(50, 184, 198, 0.4);
}

.btn-cosmic.primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 30px rgba(50, 184, 198, 0.6);
}

.btn-cosmic.secondary {
    background: linear-gradient(135deg, rgba(94, 82, 64, 0.3), rgba(98, 108, 113, 0.2));
    color: rgba(255, 255, 255, 0.9);
    border: 2px solid rgba(98, 108, 113, 0.5);
}

.btn-cosmic.secondary:hover {
    background: linear-gradient(135deg, rgba(230, 129, 97, 0.3), rgba(168, 75, 47, 0.2));
    border-color: #e68161;
    color: #e68161;
}

.btn-icon {
    font-size: 18px;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
    .badges-universe {
        padding: 20px 15px;
    }
    
    .badges-title {
        font-size: 28px;
    }
    
    .achievement-stats {
        gap: 20px;
    }
    
    .stat-cosmic {
        min-width: 100px;
        padding: 20px;
    }
    
    .badges-constellation {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .badge-star {
        padding: 25px 20px;
    }
    
    .badge-filters {
        flex-direction: column;
        align-items: center;
    }
    
    .filter-star {
        width: 200px;
        text-align: center;
    }
}

/* Filter Animation States */
.badge-star.filtered-out {
    display: none;
}

.badge-star.filtered-in {
    animation: star-appear 0.6s ease-out forwards;
}

@keyframes star-appear {
    0% {
        opacity: 0;
        transform: translateY(30px) scale(0.8);
    }
    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Filter functionality
    const filterStars = document.querySelectorAll('.filter-star');
    const badgeStars = document.querySelectorAll('.badge-star');
    
    filterStars.forEach(star => {
        star.addEventListener('click', function() {
            // Update active filter
            filterStars.forEach(s => s.classList.remove('active'));
            this.classList.add('active');
            
            // Play click sound
            if (window.awsOrbitAudio) {
                window.awsOrbitAudio.playClick();
            }
            
            // Filter badges
            const filter = this.dataset.filter;
            filterBadges(filter);
        });
    });
    
    function filterBadges(filter) {
        badgeStars.forEach(badge => {
            let show = true;
            
            switch(filter) {
                case 'earned':
                    show = badge.classList.contains('earned');
                    break;
                case 'locked':
                    show = !badge.classList.contains('earned');
                    break;
                case 'recent':
                    show = badge.classList.contains('earned'); // Could add recent class
                    break;
                case 'all':
                default:
                    show = true;
                    break;
            }
            
            if (show) {
                badge.style.display = 'block';
                badge.classList.add('filtered-in');
                badge.classList.remove('filtered-out');
            } else {
                badge.style.display = 'none';
                badge.classList.add('filtered-out');
                badge.classList.remove('filtered-in');
            }
        });
    }
    
    // Share achievements functionality
    document.getElementById('shareAchievements').addEventListener('click', function() {
        if (window.awsOrbitAudio) {
            window.awsOrbitAudio.playClick();
        }
        
        const earnedCount = document.querySelectorAll('.badge-star.earned').length;
        const totalCount = document.querySelectorAll('.badge-star').length;
        const percentage = Math.round((earnedCount / totalCount) * 100);
        
        const shareText = `🌌 Exploring the AWS Galaxy! I've earned ${earnedCount}/${totalCount} badges (${percentage}%) in AWS Cloud Orbit! Join me in mastering the cloud through epic adventures! 🚀☁️`;
        
        if (navigator.share) {
            navigator.share({
                title: 'AWS Cloud Orbit - My Galactic Progress',
                text: shareText,
                url: window.location.origin
            });
        } else {
            navigator.clipboard.writeText(shareText).then(() => {
                // Show temporary notification
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(135deg, #32b8c6, #218085);
                    color: white;
                    padding: 15px 25px;
                    border-radius: 10px;
                    z-index: 1000;
                    animation: slideIn 0.3s ease-out;
                `;
                notification.textContent = '🚀 Progress copied to clipboard!';
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            });
        }
    });
    
    // Badge hover sound effects
    badgeStars.forEach(badge => {
        badge.addEventListener('mouseenter', function() {
            if (this.classList.contains('earned') && window.awsOrbitAudio) {
                window.awsOrbitAudio.playNotification();
            }
        });
    });
    
    // Play initial badge sound if player has badges
    const earnedBadges = document.querySelectorAll('.badge-star.earned');
    if (earnedBadges.length > 0 && window.awsOrbitAudio) {
        setTimeout(() => {
            window.awsOrbitAudio.playBadgeEarned();
        }, 1000);
    }
});
</script>

{% endblock %}