<!DOCTYPE html>
<html lang="en">
<head>
<<<<<<< HEAD
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Orbit - AWS Learning RPG</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="manifest" href="/static/manifest.json">
    <meta name="theme-color" content="#232f3e">
</head>
<body>
    <header>
        <h1>üåå Cloud Orbit RPG</h1>
        <p>Master AWS through epic adventures!</p>
    </header>

    <main>
        <div class="card">
            <div class="mascot-container">
                <img id="zap-mascot" class="zap" src="/static/mascot/zap_idle.png" alt="Zap - Your AWS Guide">
                <div id="speech-bubble" class="speech-bubble">Welcome to your AWS journey!</div>
            </div>
            
            <div class="stats">
                <strong>Adventure Progress:</strong>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: {{ (progress.xp / 500 * 100)|round }}%;"></div>
                </div>
                <p>üåü XP: {{ progress.xp }}</p>
                <p>üî• Streak: {{ progress.streak }} days</p>
            </div>

            <div class="energy-shields">
                {% for i in range(progress.max_energy) %}
                    <div class="shield {{ 'depleted' if i >= progress.energy else '' }}">‚ö°</div>
                {% endfor %}
            </div>

            <div class="badges">
                <strong>üèÜ Badges Earned:</strong><br>
                {% for badge in progress.badges %}
                    <span class="badge">{{ badge }}</span>
                {% endfor %}
                {% if not progress.badges %}
                    <p><em>Complete lessons to earn badges!</em></p>
                {% endif %}
            </div>

            {% if progress.inventory.relics %}
            <div class="inventory">
                <strong>üéí Relics Collected:</strong><br>
                {% for relic in progress.inventory.relics %}
                    <div class="relic-item">
                        <strong>{{ relic.name }}</strong>: {{ relic.description }}
                    </div>
                {% endfor %}
            </div>
            {% endif %}

            <div class="lesson-nav">
                <h2>üó∫Ô∏è Adventure Map</h2>
                <p>Choose your next challenge:</p>
                
                <div class="lesson-grid">
                    {% for i in range(1, 11) %}
                        {% set available = i <= progress.current_lesson %}
                        {% set completed = i in progress.completed_lessons %}
                        <a href="/lesson/{{ i }}" 
                           class="lesson-node {{ 'completed' if completed else 'available' if available else 'locked' }}"
                           {{ 'onclick="return false;"' if not available else '' }}>
                            <div class="node-icon">
                                {% if completed %}üèÜ
                                {% elif available %}‚öîÔ∏è
                                {% else %}üîí
                                {% endif %}
                            </div>
                            <div class="node-title">Lesson {{ i }}</div>
                        </a>
                    {% endfor %}
                </div>
            </div>
        </div>
    </main>

    <script type="module">
        import EnhancedZapAnimator from '/static/enhanced_zap_animator.js';

        // Initialize mascot animation
        const mascotImg = document.getElementById('zap-mascot');
        const speechBubble = document.getElementById('speech-bubble');
        const animator = new EnhancedZapAnimator(mascotImg, speechBubble);

        // Show welcome animation on load
        window.addEventListener('load', () => {
            setTimeout(() => {
                animator.play('curious', { 
                    message: 'Ready to begin your AWS adventure?',
                    duration: 3000 
                });
            }, 1000);
        });

        // Add click interaction
        mascotImg.addEventListener('click', () => {
            const messages = [
                'Let\'s explore the cloud together!',
                'Which AWS service interests you?',
                'Your skills are growing stronger!',
                'Adventure awaits!'
            ];
            const randomMessage = messages[Math.floor(Math.random() * messages.length)];
            animator.play('explaining', { 
                message: randomMessage,
                duration: 2500 
            });
        });

        // Level up animation for high XP
        {% if progress.xp >= 500 %}
        setTimeout(() => {
            animator.play('level_up', { 
                message: 'üéâ You\'re becoming an AWS expert!',
                duration: 4000 
            });
        }, 2000);
        {% endif %}

        // Streak celebration
        {% if progress.streak >= 5 %}
        setTimeout(() => {
            animator.play('streak_celebration', { 
                message: 'üî• Amazing streak! Keep it going!',
                duration: 3500 
            });
        }, 3500);
        {% endif %}
    </script>

    <style>
        .lesson-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .lesson-node {
            display: block;
            padding: 1rem;
            text-align: center;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .lesson-node.available {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            box-shadow: 0 4px 8px rgba(76, 175, 80, 0.3);
        }

        .lesson-node.completed {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #333;
            box-shadow: 0 4px 8px rgba(255, 215, 0, 0.3);
        }

        .lesson-node.locked {
            background: #ccc;
            color: #666;
            cursor: not-allowed;
            opacity: 0.6;
        }

        .lesson-node:hover:not(.locked) {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }

        .node-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .node-title {
            font-weight: bold;
            font-size: 0.9rem;
        }

        .inventory {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(255, 215, 0, 0.1);
            border-radius: 8px;
            border-left: 4px solid #FFD700;
        }

        .relic-item {
            margin: 0.5rem 0;
            padding: 0.5rem;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .lesson-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 0.5rem;
            }
            
            .lesson-node {
                padding: 0.75rem;
            }
            
            .node-icon {
                font-size: 1.5rem;
            }
        }
    </style>
=======
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AWS Orbit RPG Edition</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <header>
    <h1>AWS Orbit RPG Edition</h1>
  </header>
  <nav>
    <a href="/skill_tree">Skill Tree</a>
    <a href="/minigame/security_dungeon">Security Dungeon</a>
  </nav>
  <div class="container">
    <p>Welcome to the next evolution of AWS Orbit! Navigate using the menu above to explore the skill tree and try the Security Dungeon minigame.</p>
    <canvas id="zapCanvas"></canvas>
  </div>
  <script type="module">
    import ZapCanvasAnimator from '/static/zap_canvas.js';
    const canvas = document.getElementById('zapCanvas');
    const animator = new ZapCanvasAnimator(canvas);
    animator.play('idle');
  </script>
>>>>>>> 285f1d6084d556b8af99eb3f80a8c0aef9e1add2
</body>
</html>
